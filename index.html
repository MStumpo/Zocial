<!DOCTYPE html>
<html>
<head>
  <title>Zocial - homepage</title>
  <style type="text/css">
  .col{
    background-color: lightgray;
    border-color: blue;
    border: 3px;
      }

    #base{
      background-color: lightgreen;
      font-family: 'Proxima Nova Soft', 'Helvetica Neue', sans-serif;
    }
  </style>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">  
</head>
  <body id="base">
    <h1 id="title">Zocial</h1>
    <br>
    <div id="description">
      <p>Wanna talk to that guy from your dreams? Wanna ask people around the world school stuff? Workin on it ;D</p>
      <br>
      <a href="/about" id="about">Learn more about what this is about and how the website will evolve</a>
      <br>
      <p style="font-size: 9px">Room creating feature is done!</p>
      <ul id="room-menu" class="list-group" style="background-color: lightgreen">
        <h3>The rooms in this shit ass website:</h3>
          <br>
      </ul>
      <h4>P.S.: For everyone that complained about the background green, I fixed it for you sensitive douches. I'm colorblind dammit!</h3>
      <div id="opener-div" class="container">
        <p>Are you a famous person?</p>
        <p>Want to talk to your fans?</p>
        <p>No? Well dammit I was gonna give you the chance of opening a chat room in a super elite, cool-people-only website</p>
          <form><input id="name" placeholder="Name here and there ya go ;D" /><button type="submit" id="send-name" onclick="openchatroom()"> :D</button></form>
      </div>
    </div>
</body>
    <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
    <script src="https://code.jquery.com/jquery-1.11.1.js"></script>
<script type="text/javascript">
  var socket = io();
  function openchatroom(){
    var name =  (document.getElementById("name").value).replace(/\s/g, "-");
    socket.emit('create room', name);

    console.log("Room making request sent (I think)");
  }
  socket.emit('request rooms');
  socket.on('get rooms', function(rooms){
    console.log(rooms);
    for(i=0; i < rooms.length; i++){
    if(!document.getElementById(rooms[i])){
          $('#room-menu').append("<a type=\"button\" id="+rooms[i]+" style=\"width: 50%\" class=\"btn btn-info\" href="+rooms[i]+">"+rooms[i]+"</a>");
        }
    }
  });
</script>
</html>
